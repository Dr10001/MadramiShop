@page "/profile"
@inject NavigationManager NavigationManager
@inject AuthState AuthState

<SectionContent SectionName="pageTitle">
	My Profile
</SectionContent>
@*<p>welcome @AuthState.User?.Name</p>*@

@*@if(AuthState.IsLoggedIn)
{
	<div class = "container my-3">
		<div class="row">
			<div class="col-12 d-flex flex-column gap-2 justify-content-center align-items-center">
				<div class="bg-app-primary text-center text-white square rounded-circle d-flex align-items-center justify-content-center">
					<i class="bx bx-sm bx-user"></i>
				</div>
				<label class="h3 m-0">@AuthState.User.Name</label>
			</div>
		</div>
		<div class="row bg-white mt-3">
			<div class="col-12">
				<ul class= "list-unstyled">
					<li class="p-2 border-bottom d-flex gap-2">
						<i class="bx bx-sm bx-edit text-app-primary"></i>
						<div class="menu-name flex-grow-1">
							<label class="text-app-primary">Edit Profile</label>
							<small class="text-secondary mt-1 d-block">Edit your Name or Mobile number</small>
						</div>
						<div class="d-flex align-items-center">
							<i class="bx bx-sm bx-chevron-right text-secondary"></i>
						</div>
					</li>
					<li class="p-2 border-bottom d-flex gap-3">
						<i class="bx bx-sm bx-lock text-app-primary"></i>
						<div class="menu-name flex-grow-1">
							<label class="text-app-primary">Change password</label>
							<small class="text-secondary mt-1 d-block">Change your password</small>
						</div>
						<div class="d-flex align-items-center">
							<i class="bx bx-sm bx-chevron-right text-secondary"></i>
						</div>
					</li>
					<li class="p-2 border-bottom d-flex gap-3">
						<i class="bx bx-sm bx-map text-app-primary"></i>
						<div class="menu-name flex-grow-1">
							<label class="text-app-primary">Manage Addresses</label>
							<small class="text-secondary mt-1 d-block">Add, edit or delete an address</small>
						</div>
						<div class="d-flex align-items-center">
							<i class="bx bx-sm bx-chevron-right text-secondary"></i>
						</div>
					</li>
					<li class="p-2 d-flex gap-3" @onclick="Logout">
						<i class="bx bx-sm bx-log-out text-app-primary"></i>
						<div class="menu-name flex-grow-1">
							<label class="text-app-primary">Logout</label>
							<small class="text-secondary mt-1 d-block">Logout from MadramiShop</small>
						</div>
						<div class="d-flex align-items-center">
							<i class="bx bx-sm bx-chevron-right text-secondary"></i>
						</div>
					</li>
				</ul>
			</div>
		</div>
	</div>

}
*@




@code {
	//protected override async Task OnInitializedAsync()
	//{
	//	if(!AuthState.IsLoggedIn)
	//	{
	//		await MauiInterop.AlertAsync("You need to be logged in to view profile page", "Login Required");
	//		AuthState.RedirectUrlFromLogin = "/profile";
	//		NavigationManager.NavigateTo("/login", replace: true);
	//	}

	//}
	//private async Task Logout()
	//{
	//	if(await MauiInterop.ConfirmAsync("Do you want to logout?", "Confim Logout"))
	//	{
	//		AuthState.Logout();
	//		NavigationManager.NavigateTo("/", replace: true);
	//	}
	//}
}
